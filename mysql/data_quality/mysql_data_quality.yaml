source:
  type: TestSuite
  serviceName: retail_mysql
  sourceConfig:
    config:
      type: TestSuite
      entityFullyQualifiedName: retail_mysql.default.retail_demo.customers
processor:
  type: orm-test-runner
  config:
    testCases:
      - name: customers_table_row_count_check
        description: Check that customers table has reasonable number of rows
        testDefinitionName: tableRowCountToBeBetween
        parameterValues:
          - name: minValue
            value: "1"
          - name: maxValue
            value: "10000"
      - name: customers_id_uniqueness
        description: Customer ID should be unique
        testDefinitionName: columnValuesToBeUnique
        columnName: id
      - name: customers_id_not_null
        description: Customer ID should not be null
        testDefinitionName: columnValuesToBeNotNull
        columnName: id
      - name: customers_email_not_null
        description: Customer email should not be null
        testDefinitionName: columnValuesToBeNotNull
        columnName: email
      - name: customers_email_format
        description: Customer email should match valid email format
        testDefinitionName: columnValuesToMatchRegex
        columnName: email
        parameterValues:
          - name: regex
            value: "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"
      - name: customers_country_not_null
        description: Customer country should not be null
        testDefinitionName: columnValuesToBeNotNull
        columnName: country
      - name: customers_signup_date_not_null
        description: Customer signup date should not be null
        testDefinitionName: columnValuesToBeNotNull
        columnName: signup_date
sink:
  type: metadata-rest
  config: {}
workflowConfig:
  openMetadataServerConfig:
    hostPort: http://openmetadata_server:8585/api
    authProvider: openmetadata
    securityConfig:
      jwtToken: "eyJraWQiOiJHYjM4OWEtOWY3Ni1nZGpzLWE5MmotMDI0MmJrOTQzNTYiLCJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJvcGVuLW1ldGFkYXRhLm9yZyIsInN1YiI6ImluZ2VzdGlvbi1ib3QiLCJyb2xlcyI6WyJJbmdlc3Rpb25Cb3RSb2xlIl0sImVtYWlsIjoiaW5nZXN0aW9uLWJvdEBvcGVuLW1ldGFkYXRhLm9yZyIsImlzQm90Ijp0cnVlLCJ0b2tlblR5cGUiOiJCT1QiLCJpYXQiOjE3NTU2NjMyOTQsImV4cCI6bnVsbH0.Rhj1bjZq1hfi1fT1n5FCohQ7u_OlVr6GuexNh6E7ME2OSLGl4qFzk1Dz-aeWrLDSMn9hKfZHHz1iIeaS2yf6LLoQIaiTgo2xlEbLtRRVIMUcg9LB1KtBrXwBHbt6-PctSYmpTb7RoYeTjxyk7H_h5OdFHfupOmUFr5BTWZL30p5Fpvdf8fkjkBjnOIYlOzuYmzMHscl0Ym_eRrUIBdiolWaUw_iVDBAt37y8j1HzebtwP2zF0b_wlcTmRmjRNG_F9Fvod1N7MHL_ZF6bd6eeQnEpyIizQs2Wb7OfEa_8M20IJBOBSXAxiwuzUTiV_G4taGvFyj8a6jz6aziRe86jKw"
  loggerLevel: INFO 